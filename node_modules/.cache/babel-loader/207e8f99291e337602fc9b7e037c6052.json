{"remainingRequest":"/home/maks/Рабочий стол/web-front/web-front/node_modules/babel-loader/lib/index.js!/home/maks/Рабочий стол/web-front/web-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/maks/Рабочий стол/web-front/web-front/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/maks/Рабочий стол/web-front/web-front/src/components/post/post.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/maks/Рабочий стол/web-front/web-front/src/components/post/post.vue","mtime":1633547327604},{"path":"/home/maks/Рабочий стол/web-front/web-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/maks/Рабочий стол/web-front/web-front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/maks/Рабочий стол/web-front/web-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/maks/Рабочий стол/web-front/web-front/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL21ha3MvXHUwNDIwXHUwNDMwXHUwNDMxXHUwNDNFXHUwNDQ3XHUwNDM4XHUwNDM5IFx1MDQ0MVx1MDQ0Mlx1MDQzRVx1MDQzQi93ZWItZnJvbnQvd2ViLWZyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvbWFrcy9cdTA0MjBcdTA0MzBcdTA0MzFcdTA0M0VcdTA0NDdcdTA0MzhcdTA0MzkgXHUwNDQxXHUwNDQyXHUwNDNFXHUwNDNCL3dlYi1mcm9udC93ZWItZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0IFNsaWRlciBmcm9tICIuLi9zbGlkZXIvc2xpZGVyIjsKaW1wb3J0IFNsaWRlckl0ZW0gZnJvbSAnLi4vc2xpZGVyL3NsaWRlci1pdGVtJzsKaW1wb3J0IHsgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgJy4vcG9zdC5zY3NzJzsgLy8gVE9ETzog0LjQt9C80LXQvdC40YLRjCDQvNC10YXQsNC90LjQt9C8INC40LfQvNC10L3QtdC90LjRjyDQutC+0LvQuNGH0LXRgdGC0LLQviDQu9Cw0LnQutC+0LIKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAicG9zdCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBvc3RUZXh0OiAnJywKICAgICAgc2hvcnRUZXh0OiAnJywKICAgICAgaXNBbGw6IGZhbHNlLAogICAgICBpc0xpa2U6IGZhbHNlLAogICAgICBjb3VudExpa2VzOiAwCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIHBvc3Q6IE9iamVjdAogIH0sCiAgY29tcG9uZW50czogewogICAgU2xpZGVyOiBTbGlkZXIsCiAgICBTbGlkZXJJdGVtOiBTbGlkZXJJdGVtCiAgfSwKICBjb21wdXRlZDogewogICAgcG9zdERhdGU6IGZ1bmN0aW9uIHBvc3REYXRlKCkgewogICAgICB2YXIgZGF0ZSA9IHRoaXMucG9zdC5kYXRlOwogICAgICByZXR1cm4gewogICAgICAgIG1vbnRoOiBkYXRlLnRvTG9jYWxlU3RyaW5nKCdlbmcnLCB7CiAgICAgICAgICBtb250aDogJ2xvbmcnCiAgICAgICAgfSkudG9Mb2NhbGVMb3dlckNhc2UoKSwKICAgICAgICBkYXk6IGRhdGUuZ2V0RGF0ZSgpLAogICAgICAgIHRpbWU6IGRhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKCkuc3Vic3RyKDAsIDUpCiAgICAgIH07CiAgICB9CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWydDSEFOR0VfTElLRSddKSksIHt9LCB7CiAgICBzZWVUZXh0Q2xpY2s6IGZ1bmN0aW9uIHNlZVRleHRDbGljaygpIHsKICAgICAgaWYgKHRoaXMuaXNBbGwpIHsKICAgICAgICB0aGlzLnBvc3RUZXh0ID0gdGhpcy5zaG9ydFRleHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wb3N0VGV4dCA9IHRoaXMucG9zdC50ZXh0OwogICAgICB9CgogICAgICB0aGlzLmlzQWxsID0gIXRoaXMuaXNBbGw7CiAgICB9LAogICAgbGlrZUNsaWNrOiBmdW5jdGlvbiBsaWtlQ2xpY2soKSB7CiAgICAgIGlmICh0aGlzLmlzTGlrZSkgewogICAgICAgIHRoaXMuY291bnRMaWtlcy0tOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY291bnRMaWtlcysrOwogICAgICB9CgogICAgICB0aGlzLmlzTGlrZSA9ICF0aGlzLmlzTGlrZTsKICAgIH0KICB9KSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIHRleHQgPSB0aGlzLnBvc3QudGV4dDsKICAgIHZhciBsZW5ndGggPSAzNTsKCiAgICBpZiAodGV4dC5zcGxpdCgnICcpLmxlbmd0aCA+IGxlbmd0aCArIDgpIHsKICAgICAgdGhpcy5zaG9ydFRleHQgPSB0ZXh0LnNwbGl0KCcgJykuc2xpY2UoMCwgMzUpLmpvaW4oJyAnKSArICcuLi4nOwogICAgICB0aGlzLnBvc3RUZXh0ID0gdGhpcy5zaG9ydFRleHQ7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLmlzTGlrZSA9IHRoaXMucG9zdC5pc0xpa2VkOwogICAgdGhpcy5jb3VudExpa2VzID0gdGhpcy5wb3N0LmNvdW50TGlrZXM7IC8vINC/0YDQvtCy0LXRgNGP0LXQvCDQv9C+0YHRgtCw0LLQuNC7INC70Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINC70LDQudC6INC40LvQuCDRg9Cx0YDQsNC7CiAgICAvLyDQtdGB0LvQuCDQt9C90LDRh9C10L3QuNC1INC90LUg0YHQvtCy0L/QsNC00LDQtdGCINGB0L4g0LfQvdCw0YfQtdC90LjQtdC8INC40Lcgc3RhdGUsINCy0YvQt9GL0LLQsNC10YLRjNGB0Y8gYWN0aW9uINC/0L4g0LjQt9C80LXQvdC10L3QuNGOINC70LDQudC60LAKICAgIC8vICjQtNC70Y8g0YLQvtCz0L4g0YfRgtC+0LHRiyDQvdC1INC40LfQvNC10L3Rj9GC0Ywg0LvQsNC50Log0L/RgNC4INC60LDQttC00L7QvCDQvdCw0LbQsNGC0LjQuCkKCiAgICBzZXRJbnRlcnZhbCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmICghKF90aGlzLnBvc3QuaXNMaWtlZCAhPT0gX3RoaXMuaXNMaWtlKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5DSEFOR0VfTElLRSh7CiAgICAgICAgICAgICAgICBwb3N0SWQ6IF90aGlzLnBvc3QuaWQsCiAgICAgICAgICAgICAgICBpc0xpa2U6IF90aGlzLmlzTGlrZQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSwgNTAwMCk7CiAgfQp9Ow=="},{"version":3,"sources":["/home/maks/Рабочий стол/web-front/web-front/src/components/post/post.vue"],"names":[],"mappings":";;;;;;;AAwCA,OAAO,MAAP,MAAmB,kBAAnB;AACA,OAAO,UAAP,MAAuB,uBAAvB;AACA,SAAQ,UAAR,QAAyB,MAAzB;AAEA,OAAO,aAAP,C,CACA;;AACA,eAAe;AACX,EAAA,IAAI,EAAE,MADK;AAEX,EAAA,IAAI,EAAE,gBAAM;AACR,WAAO;AACH,MAAA,QAAQ,EAAE,EADP;AAEH,MAAA,SAAS,EAAE,EAFR;AAGH,MAAA,KAAK,EAAE,KAHJ;AAIH,MAAA,MAAM,EAAE,KAJL;AAKH,MAAA,UAAU,EAAE;AALT,KAAP;AAOH,GAVU;AAWX,EAAA,KAAK,EAAE;AACH,IAAA,IAAI,EAAE;AADH,GAXI;AAcX,EAAA,UAAU,EAAE;AACR,IAAA,MAAM,EAAN,MADQ;AAER,IAAA,UAAS,EAAT;AAFQ,GAdD;AAkBX,EAAA,QAAQ,EAAE;AACN,IAAA,QADM,sBACK;AACP,UAAM,IAAG,GAAI,KAAK,IAAL,CAAU,IAAvB;AACA,aAAO;AACH,QAAA,KAAK,EAAE,IAAI,CAAC,cAAL,CAAoB,KAApB,EAA2B;AAAC,UAAA,KAAK,EAAE;AAAR,SAA3B,EAA4C,iBAA5C,EADJ;AAEH,QAAA,GAAG,EAAE,IAAI,CAAC,OAAL,EAFF;AAGH,QAAA,IAAI,EAAE,IAAI,CAAC,kBAAL,GAA0B,MAA1B,CAAiC,CAAjC,EAAoC,CAApC;AAHH,OAAP;AAKH;AARK,GAlBC;AA4BX,EAAA,OAAO,kCACA,UAAU,CAAC,CAAC,aAAD,CAAD,CADV;AAEH,IAAA,YAFG,0BAEY;AACX,UAAI,KAAK,KAAT,EAAgB;AACZ,aAAK,QAAL,GAAgB,KAAK,SAArB;AACJ,OAFA,MAEO;AACH,aAAK,QAAL,GAAgB,KAAK,IAAL,CAAU,IAA1B;AACJ;;AACA,WAAK,KAAL,GAAa,CAAC,KAAK,KAAnB;AACH,KATE;AAUH,IAAA,SAVG,uBAUS;AACR,UAAI,KAAK,MAAT,EAAiB;AACb,aAAK,UAAL;AACJ,OAFA,MAEO;AACH,aAAK,UAAL;AACJ;;AACA,WAAK,MAAL,GAAc,CAAC,KAAK,MAApB;AACJ;AAjBG,IA5BI;AA+CX,EAAA,OA/CW,qBA+CD;AACN,QAAM,IAAG,GAAI,KAAK,IAAL,CAAU,IAAvB;AACA,QAAM,MAAK,GAAI,EAAf;;AACA,QAAI,IAAI,CAAC,KAAL,CAAW,GAAX,EAAgB,MAAhB,GAAyB,MAAK,GAAI,CAAtC,EAAyC;AACrC,WAAK,SAAL,GAAiB,IAAI,CAAC,KAAL,CAAW,GAAX,EAAgB,KAAhB,CAAsB,CAAtB,EAAyB,EAAzB,EAA6B,IAA7B,CAAkC,GAAlC,IAAyC,KAA1D;AACA,WAAK,QAAL,GAAgB,KAAK,SAArB;AACJ;AACH,GAtDU;AAuDX,EAAA,OAvDW,qBAuDD;AAAA;;AACN,SAAK,MAAL,GAAc,KAAK,IAAL,CAAU,OAAxB;AACA,SAAK,UAAL,GAAkB,KAAK,IAAL,CAAU,UAA5B,CAFM,CAGN;AACA;AACA;;AACA,IAAA,WAAW,uEAAC;AAAA;AAAA;AAAA;AAAA;AAAA,oBACJ,KAAI,CAAC,IAAL,CAAU,OAAV,KAAsB,KAAI,CAAC,MADvB;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAEE,KAAI,CAAC,WAAL,CAAiB;AAAC,gBAAA,MAAM,EAAE,KAAI,CAAC,IAAL,CAAU,EAAnB;AAAuB,gBAAA,MAAM,EAAE,KAAI,CAAC;AAApC,eAAjB,CAFF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,IAIR,IAJQ,CAAX;AAKJ;AAlEW,CAAf","sourcesContent":["<template>\n    <div class=\"post\">\n\n        <Slider class=\"post__slider\">\n            <SliderItem\n                v-for=\"(image, i) in post.images\"\n                :key=\"image\"\n                :data-index=\"i\"\n            >\n                <img :src=\"image\" alt=\"\">\n<!--                <img :src=\"image\" alt=\"\">-->\n            </SliderItem>\n        </Slider>\n        <div class=\"post__body\">\n            <div class=\"post__info\">\n                <img src=\"https://i.ibb.co/T0Cvfy2/Ellipse-3-1.png\" alt=\"\">\n                <div class=\"post__info_right\">\n                    <div class=\"post__title\">{{ post.title }}</div>\n                    <div class=\"post__date\">\n<!--                        <span><img src=\"/img/icons/calendar.svg\" alt=\"\">{{postDate.day + ' ' + postDate.month }}</span>-->\n<!--                        <span><img src=\"/img/icons/hourglass.svg\" alt=\"\">{{ postDate.time}}</span>-->\n                    </div>\n                </div>\n            </div>\n            <div class=\"post__text\">{{ postText }}</div>\n            <div v-if=\"!isAll\" @click=\"seeTextClick\" class=\"post__see-all no-blue\">See all</div>\n            <div v-else @click=\"seeTextClick\" class=\"post__see-all no-blue\">Close</div>\n            <div class=\"post__footer\">\n                <div @click=\"likeClick\" class=\"post__likes post__footer-item no-blue\">\n<!--                    <img class=\"no-blue\" :src=\"require(`@/assets/img/icons/like${isLike ? '_active' : ''}.svg`)\">{{ countLikes }}-->\n                </div>\n<!--                <div class=\"post__comments post__footer-item\"><img :src=\"require('@/assets/img/icons/comment.svg')\">{{ post.countComments }}</div>-->\n<!--                <div class=\"post__distance post__footer-item\"><img :src=\"require('@/assets/img/icons/distance.svg')\">{{ post.distance }}</div>-->\n<!--                <div class=\"post__repost\"><img :src=\"require('@/assets/img/icons/repost.svg')\" alt=\"repost\"></div>-->\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Slider from \"../slider/slider\";\nimport SliderItem from '../slider/slider-item'\nimport {mapActions} from \"vuex\";\n\nimport './post.scss'\n// TODO: изменить механизм изменения количество лайков\nexport default {\n    name: \"post\",\n    data: () => {\n        return {\n            postText: '',\n            shortText: '',\n            isAll: false,\n            isLike: false,\n            countLikes: 0\n        }\n    },\n    props: {\n        post: Object\n    },\n    components: {\n        Slider,\n        SliderItem\n    },\n    computed: {\n        postDate() {\n            const date = this.post.date\n            return {\n                month: date.toLocaleString('eng', {month: 'long'}).toLocaleLowerCase(),\n                day: date.getDate(),\n                time: date.toLocaleTimeString().substr(0, 5),\n            }\n        },\n    },\n    methods: {\n        ...mapActions(['CHANGE_LIKE']),\n        seeTextClick() {\n            if (this.isAll) {\n                this.postText = this.shortText\n            } else {\n                this.postText = this.post.text\n            }\n            this.isAll = !this.isAll\n        },\n        likeClick() {\n            if (this.isLike) {\n                this.countLikes--\n            } else {\n                this.countLikes++\n            }\n            this.isLike = !this.isLike\n        }\n    },\n    mounted() {\n        const text = this.post.text\n        const length = 35\n        if (text.split(' ').length > length + 8) {\n            this.shortText = text.split(' ').slice(0, 35).join(' ') + '...'\n            this.postText = this.shortText\n        }\n    },\n    created() {\n        this.isLike = this.post.isLiked\n        this.countLikes = this.post.countLikes\n        // проверяем поставил ли пользователь лайк или убрал\n        // если значение не совпадает со значением из state, вызываеться action по изменению лайка\n        // (для того чтобы не изменять лайк при каждом нажатии)\n        setInterval(async() => {\n            if (this.post.isLiked !== this.isLike) {\n                await this.CHANGE_LIKE({postId: this.post.id, isLike: this.isLike})\n            }\n        }, 5000)\n    }\n}\n</script>\n"],"sourceRoot":""}]}