{"remainingRequest":"/home/maks/Рабочий стол/web-front/web-front/node_modules/babel-loader/lib/index.js!/home/maks/Рабочий стол/web-front/web-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/maks/Рабочий стол/web-front/web-front/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/maks/Рабочий стол/web-front/web-front/src/views/auth/registration-auth.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/maks/Рабочий стол/web-front/web-front/src/views/auth/registration-auth.vue","mtime":1633547327604},{"path":"/home/maks/Рабочий стол/web-front/web-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/maks/Рабочий стол/web-front/web-front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/maks/Рабочий стол/web-front/web-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/maks/Рабочий стол/web-front/web-front/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL21ha3MvXHUwNDIwXHUwNDMwXHUwNDMxXHUwNDNFXHUwNDQ3XHUwNDM4XHUwNDM5IFx1MDQ0MVx1MDQ0Mlx1MDQzRVx1MDQzQi93ZWItZnJvbnQvd2ViLWZyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvbWFrcy9cdTA0MjBcdTA0MzBcdTA0MzFcdTA0M0VcdTA0NDdcdTA0MzhcdTA0MzkgXHUwNDQxXHUwNDQyXHUwNDNFXHUwNDNCL3dlYi1mcm9udC93ZWItZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBCdXR0b24gZnJvbSAnQC9jb21wb25lbnRzL2F1dGgvYnV0dG9uLnZ1ZSc7CmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgRkVFRF9VUkwgfSBmcm9tICIuLi8uLi91dGlscy9jb25zdHMiOwppbXBvcnQgVmFsaWRhdGlvbiBmcm9tICIuLi8uLi91dGlscy92YWxpZGF0aW9uIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJyZWdpc3RyYXRpb24tYXV0aCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZlZWRVcmw6IEZFRURfVVJMLAogICAgICBmb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIGVtYWlsOiAnJywKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgZmlsZTogJycKICAgICAgfSwKICAgICAgaXNBbnlJbnB1dEZvY3VzZWQ6IGZhbHNlLAogICAgICBpc0ltZ1ByZXZpZXc6IGZhbHNlLAogICAgICBpbWdQcmV2aWV3OiAnJwogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEJ1dHRvbjogQnV0dG9uCiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWydSRUdJU1RFUiddKSksIHt9LCB7CiAgICBsb2FkUGljdHVyZTogZnVuY3Rpb24gbG9hZFBpY3R1cmUoZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGZpbGUgPSBlLnRhcmdldC5maWxlc1swXTsKICAgICAgdGhpcy5pc0ltZ1ByZXZpZXcgPSB0cnVlOwoKICAgICAgaWYgKGZpbGUuc2l6ZSA+IDEwICogMTAyNCAqIDEwMjQpIHsKICAgICAgICBhbGVydCgnRmlsZSBzaXplIHNob3VsZCBub3QgZXhjZWVkIDEwIE1CJyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgIHRoaXMuZm9ybS5maWxlID0gZmlsZTsKICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgICBmaWxlUmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlbmQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuaW1nUHJldmlldyA9IGZpbGVSZWFkZXIucmVzdWx0OwogICAgICAgIF90aGlzLmlzSW1nUHJldmlldyA9IHRydWU7CiAgICAgIH0pOwogICAgfSwKICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciB2YWxpZGF0ZVJlc3VsdCwgZm9ybURhdGEsIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHZhbGlkYXRlUmVzdWx0ID0gVmFsaWRhdGlvbi52YWxpZGF0ZVJlZ2lzdHJhdGlvbihfdGhpczIuZm9ybSk7CgogICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZVJlc3VsdCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYWxlcnQodmFsaWRhdGVSZXN1bHQpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBmb3JtRGF0YSA9IGFkZERhdGFUb0Zvcm0oX3RoaXMyLmZvcm0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLlJFR0lTVEVSKGZvcm1EYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOyAvLyDQtNCw0LvRjNGI0LUg0LrQvtC0INC30LDQstC40YHQuNGCINC+0YIg0LHRjdC60LAKICAgICAgICAgICAgICAgIC8vIC4uLgoKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgey8vINC+0LHRgNCw0LHQvtGC0LrQsCDRg9GB0L/QtdGI0L3QvtC5INGA0LXQs9C40YHRgtGA0LDRhtC40LgKICAgICAgICAgICAgICAgICAgLy8g0LfQsNC/0LjRgdGC0Ywg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINCyIHN0YXRlCiAgICAgICAgICAgICAgICAgIC8vINC30LDQv9C40YHRjCBhY2Nlc3NUb2tlbiDQsiBsb2NhbFN0b3JhZ2UKICAgICAgICAgICAgICAgICAgLy8g0YDQtdC00LjRgNC10LrRgiDQvdCwINCz0LvQsNCy0L3Rg9GOCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9Cn07Cgp2YXIgYWRkRGF0YVRvRm9ybSA9IGZ1bmN0aW9uIGFkZERhdGFUb0Zvcm0oZm9ybSkgewogIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogIGZvcm1EYXRhLmFwcGVuZCgnYXZhdGFyJywgJ2FzZGZhc2YnKTsKICBmb3JtRGF0YS5hcHBlbmQoJ3VzZXJuYW1lJywgZm9ybS51c2VybmFtZSk7CiAgZm9ybURhdGEuYXBwZW5kKCdlbWFpbCcsIGZvcm0uZW1haWwpOwogIGZvcm1EYXRhLmFwcGVuZCgncGFzc3dvcmQnLCBmb3JtLnBhc3N3b3JkKTsKICByZXR1cm4gZm9ybURhdGE7Cn07"},{"version":3,"sources":["/home/maks/Рабочий стол/web-front/web-front/src/views/auth/registration-auth.vue"],"names":[],"mappings":";;;AAyCA,OAAO,MAAP,MAAmB,8BAAnB;AACA,SAAQ,UAAR,QAAyB,MAAzB;AACA,SAAQ,QAAR,QAAuB,oBAAvB;AACA,OAAO,UAAP,MAAuB,wBAAvB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,mBADK;AAEX,EAAA,IAAI,EAAE,gBAAM;AACR,WAAO;AACH,MAAA,OAAO,EAAE,QADN;AAEH,MAAA,IAAI,EAAE;AACF,QAAA,QAAQ,EAAE,EADR;AAEF,QAAA,KAAK,EAAE,EAFL;AAGF,QAAA,QAAQ,EAAE,EAHR;AAIF,QAAA,IAAI,EAAE;AAJJ,OAFH;AAQH,MAAA,iBAAiB,EAAE,KARhB;AASH,MAAA,YAAY,EAAE,KATX;AAUH,MAAA,UAAU,EAAE;AAVT,KAAP;AAYH,GAfU;AAgBX,EAAA,UAAU,EAAE;AACR,IAAA,MAAK,EAAL;AADQ,GAhBD;AAmBX,EAAA,OAAO,kCACA,UAAU,CAAC,CAAC,UAAD,CAAD,CADV;AAEH,IAAA,WAFG,uBAES,CAFT,EAEY;AAAA;;AACX,UAAI,IAAG,GAAI,CAAC,CAAC,MAAF,CAAS,KAAT,CAAe,CAAf,CAAX;AACA,WAAK,YAAL,GAAoB,IAApB;;AACA,UAAI,IAAI,CAAC,IAAL,GAAY,KAAG,IAAH,GAAQ,IAAxB,EAA8B;AAC1B,QAAA,KAAK,CAAC,mCAAD,CAAL;AACA,eAAO,KAAP;AACJ;;AACA,UAAI,UAAS,GAAI,IAAI,UAAJ,EAAjB;AACA,WAAK,IAAL,CAAU,IAAV,GAAiB,IAAjB;AACA,MAAA,UAAU,CAAC,aAAX,CAAyB,IAAzB;AACA,MAAA,UAAU,CAAC,gBAAX,CAA4B,SAA5B,EAAuC,YAAM;AACzC,QAAA,KAAI,CAAC,UAAL,GAAkB,UAAU,CAAC,MAA7B;AACA,QAAA,KAAI,CAAC,YAAL,GAAoB,IAApB;AACH,OAHD;AAIH,KAhBE;AAiBG,IAAA,QAjBH,sBAiBc;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACT,gBAAA,cADS,GACQ,UAAU,CAAC,oBAAX,CAAgC,MAAI,CAAC,IAArC,CADR;;AAAA,qBAET,cAFS;AAAA;AAAA;AAAA;;AAGT,gBAAA,KAAK,CAAC,cAAD,CAAL;AAHS,iDAIF,KAJE;;AAAA;AAMP,gBAAA,QANO,GAMI,aAAa,CAAC,MAAI,CAAC,IAAN,CANjB;AAAA;AAAA,uBAOU,MAAI,CAAC,QAAL,CAAc,QAAd,CAPV;;AAAA;AAOP,gBAAA,QAPO;AAQb,gBAAA,OAAO,CAAC,GAAR,CAAY,QAAZ,EARa,CASb;AACA;;AACA,oBAAI,QAAQ,CAAC,MAAT,KAAkB,GAAtB,EAA2B,CACvB;AACA;AACA;AACA;AACJ;;AAhBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBjB;AAlCG,IAnBI;AAuDX,EAAA,OAvDW,qBAuDD,CACV;AAxDW,CAAf;;AA0DA,IAAM,aAAY,GAAI,SAAhB,aAAgB,CAAC,IAAD,EAAU;AAC5B,MAAM,QAAO,GAAI,IAAI,QAAJ,EAAjB;AACA,EAAA,QAAQ,CAAC,MAAT,CAAgB,QAAhB,EAA0B,SAA1B;AACA,EAAA,QAAQ,CAAC,MAAT,CAAgB,UAAhB,EAA4B,IAAI,CAAC,QAAjC;AACA,EAAA,QAAQ,CAAC,MAAT,CAAgB,OAAhB,EAAyB,IAAI,CAAC,KAA9B;AACA,EAAA,QAAQ,CAAC,MAAT,CAAgB,UAAhB,EAA4B,IAAI,CAAC,QAAjC;AACA,SAAO,QAAP;AACJ,CAPA","sourcesContent":["<template>\n    <div class=\"auth registration\">\n        <div\n            :style=\"{background: `url(/img/auth/back.png) center no-repeat`, backgroundSize: '100%'}\"\n            class=\"auth__bg auth__bg\"\n        ></div>\n\n        <router-link tag=\"div\" class=\"registration__title auth__title title-auth title-auth__disappear_l\" :to=\"feedUrl\">Events</router-link>\n        <div class=\"auth__container container-auth\">\n            <div class=\"auth__body body-auth\">\n                <div class=\"auth__body_pic\">\n                    <label for=\"input-pic\">\n                        <img v-if=\"!isImgPreview\" src=\"/img/auth/plus.svg\">\n                        <span v-if=\"!isImgPreview\" class=\"no-blue\">Event picture</span>\n                        <img class=\"auth__body_preview\" v-if=\"isImgPreview\" :src=\"imgPreview\" alt=\"\">\n                    </label>\n                    <input ref=\"inputImg\" @change=\"loadPicture($event)\" type=\"file\" accept=\"image/*\" id=\"input-pic\">\n                </div>\n                <div class=\"auth__body-text body-text-auth\">Enter <span>Username,</span><br><p>email</p> and <span>password</span></div>\n                <div class=\"auth__form form-auth\">\n                    <div class=\"form-auth__input\">\n                        <input v-model=\"form.username\" type=\"text\" placeholder=\"Username\">\n                        <div v-if=\"form.username.length < 1\" class=\"form-auth__label\"><img alt=\"\" src=\"/img/auth/sharp.svg\"><span>Mandatory input field</span></div>\n                    </div>\n                    <div class=\"form-auth__input\">\n                        <input v-model=\"form.email\" type=\"email\" placeholder=\"Your email\">\n                        <div v-if=\"form.email.length < 1\" class=\"form-auth__label\"><img alt=\"\" src=\"/img/auth/sharp.svg\"><span>Mandatory input field</span></div>\n                    </div>\n                    <div class=\"form-auth__input\">\n                        <input v-model=\"form.password\" type=\"password\" placeholder=\"Your password\">\n                        <div v-if=\"form.password.length < 1\" class=\"form-auth__label\"><img alt=\"\" src=\"/img/auth/sharp.svg\"><span>Mandatory input field</span></div>\n                    </div>\n                    <div @click=\"$router.push('recover-password')\" class=\"form-auth__forgot\">Forgot password?</div>\n                    <Button @btnClick=\"register\" :type=\"'login'\">Sign in</Button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Button from '@/components/auth/button.vue'\nimport {mapActions} from 'vuex'\nimport {FEED_URL} from \"../../utils/consts\";\nimport Validation from \"../../utils/validation\";\n\nexport default {\n    name: \"registration-auth\",\n    data: () => {\n        return {\n            feedUrl: FEED_URL,\n            form: {\n                username: '',\n                email: '',\n                password: '',\n                file: ''\n            },\n            isAnyInputFocused: false,\n            isImgPreview: false,\n            imgPreview: ''\n        }\n    },\n    components: {\n        Button\n    },\n    methods: {\n        ...mapActions(['REGISTER']),\n        loadPicture(e) {\n            let file = e.target.files[0]\n            this.isImgPreview = true\n            if (file.size > 10*1024*1024) {\n                alert('File size should not exceed 10 MB')\n                return false\n            }\n            let fileReader = new FileReader()\n            this.form.file = file\n            fileReader.readAsDataURL(file)\n            fileReader.addEventListener('loadend', () => {\n                this.imgPreview = fileReader.result\n                this.isImgPreview = true\n            })\n        },\n        async register() {\n            let validateResult = Validation.validateRegistration(this.form)\n            if (validateResult) {\n                alert(validateResult)\n                return false\n            }\n            const formData = addDataToForm(this.form)\n            const response = await this.REGISTER(formData)\n            console.log(response)\n            // дальше код зависит от бэка\n            // ...\n            if (response.status===200) {\n                // обработка успешной регистрации\n                // записть пользователя в state\n                // запись accessToken в localStorage\n                // редирект на главную\n            }\n        }\n    },\n    mounted() {\n    }\n}\nconst addDataToForm = (form) => {\n    const formData = new FormData()\n    formData.append('avatar', 'asdfasf')\n    formData.append('username', form.username)\n    formData.append('email', form.email)\n    formData.append('password', form.password)\n    return formData\n}\n</script>\n\n"],"sourceRoot":""}]}