{"remainingRequest":"/home/maks/Рабочий стол/project-places/node_modules/babel-loader/lib/index.js!/home/maks/Рабочий стол/project-places/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/maks/Рабочий стол/project-places/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/maks/Рабочий стол/project-places/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/maks/Рабочий стол/project-places/src/components/post/post.vue?vue&type=template&id=4da88d4f","dependencies":[{"path":"/home/maks/Рабочий стол/project-places/src/components/post/post.vue","mtime":1633993736257},{"path":"/home/maks/Рабочий стол/project-places/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/maks/Рабочий стол/project-places/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/maks/Рабочий стол/project-places/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1632349277000},{"path":"/home/maks/Рабочий стол/project-places/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/maks/Рабочий стол/project-places/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZyB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAicG9zdCIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJwb3N0X19ib2R5Igp9Owp2YXIgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogInBvc3RfX2luZm8iCn07Cgp2YXIgX2hvaXN0ZWRfNCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImltZyIsIHsKICBzcmM6ICJodHRwczovL2kuaWJiLmNvL1QwQ3ZmeTIvRWxsaXBzZS0zLTEucG5nIiwKICBhbHQ6ICIiCn0sIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF81ID0gewogIGNsYXNzOiAicG9zdF9faW5mb19yaWdodCIKfTsKdmFyIF9ob2lzdGVkXzYgPSB7CiAgY2xhc3M6ICJwb3N0X190aXRsZSIKfTsKCnZhciBfaG9pc3RlZF83ID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAicG9zdF9fZGF0ZSIKfSwgWy8qI19fUFVSRV9fKi9fY3JlYXRlQ29tbWVudFZOb2RlKCIgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj48aW1nIHNyYz1cIi9pbWcvaWNvbnMvY2FsZW5kYXIuc3ZnXCIgYWx0PVwiXCI+e3twb3N0RGF0ZS5kYXkgKyAnICcgKyBwb3N0RGF0ZS5tb250aCB9fTwvc3Bhbj4iKSwgLyojX19QVVJFX18qL19jcmVhdGVDb21tZW50Vk5vZGUoIiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjxpbWcgc3JjPVwiL2ltZy9pY29ucy9ob3VyZ2xhc3Muc3ZnXCIgYWx0PVwiXCI+e3sgcG9zdERhdGUudGltZX19PC9zcGFuPiIpXSwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzggPSB7CiAgY2xhc3M6ICJwb3N0X190ZXh0Igp9Owp2YXIgX2hvaXN0ZWRfOSA9IHsKICBjbGFzczogInBvc3RfX2Zvb3RlciIKfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9TbGlkZXJJdGVtID0gX3Jlc29sdmVDb21wb25lbnQoIlNsaWRlckl0ZW0iKTsKCiAgdmFyIF9jb21wb25lbnRfU2xpZGVyID0gX3Jlc29sdmVDb21wb25lbnQoIlNsaWRlciIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9TbGlkZXIsIHsKICAgIGNsYXNzOiAicG9zdF9fc2xpZGVyIgogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJHByb3BzLnBvc3QuaW1hZ2VzLCBmdW5jdGlvbiAoaW1hZ2UsIGkpIHsKICAgICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9TbGlkZXJJdGVtLCB7CiAgICAgICAgICBrZXk6IGltYWdlLAogICAgICAgICAgImRhdGEtaW5kZXgiOiBpCiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZSgiaW1nIiwgewogICAgICAgICAgICAgIHNyYzogaW1hZ2UsCiAgICAgICAgICAgICAgYWx0OiAiIgogICAgICAgICAgICB9LCBudWxsLCA4CiAgICAgICAgICAgIC8qIFBST1BTICovCiAgICAgICAgICAgICwgWyJzcmMiXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiAgICAgICAgICAgICAgICA8aW1nIDpzcmM9XCJpbWFnZVwiIGFsdD1cIlwiPiIpXTsKICAgICAgICAgIH0pLAogICAgICAgICAgXzogMgogICAgICAgICAgLyogRFlOQU1JQyAqLwoKICAgICAgICB9LCAxMDMyCiAgICAgICAgLyogUFJPUFMsIERZTkFNSUNfU0xPVFMgKi8KICAgICAgICAsIFsiZGF0YS1pbmRleCJdKTsKICAgICAgfSksIDEyOAogICAgICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICAgICApKV07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9KSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2hvaXN0ZWRfNCwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF81LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF82LCBfdG9EaXNwbGF5U3RyaW5nKCRwcm9wcy5wb3N0LnRpdGxlKSwgMQogIC8qIFRFWFQgKi8KICApLCBfaG9pc3RlZF83XSldKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF84LCBfdG9EaXNwbGF5U3RyaW5nKF9jdHgucG9zdFRleHQpLCAxCiAgLyogVEVYVCAqLwogICksICFfY3R4LmlzQWxsID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCB7CiAgICBrZXk6IDAsCiAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLnNlZVRleHRDbGljayAmJiAkb3B0aW9ucy5zZWVUZXh0Q2xpY2suYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICB9KSwKICAgIGNsYXNzOiAicG9zdF9fc2VlLWFsbCBuby1ibHVlIgogIH0sICJTZWUgYWxsIikpIDogKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCB7CiAgICBrZXk6IDEsCiAgICBvbkNsaWNrOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLnNlZVRleHRDbGljayAmJiAkb3B0aW9ucy5zZWVUZXh0Q2xpY2suYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICB9KSwKICAgIGNsYXNzOiAicG9zdF9fc2VlLWFsbCBuby1ibHVlIgogIH0sICJDbG9zZSIpKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF85LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgICBvbkNsaWNrOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLmxpa2VDbGljayAmJiAkb3B0aW9ucy5saWtlQ2xpY2suYXBwbHkoJG9wdGlvbnMsIGFyZ3VtZW50cyk7CiAgICB9KSwKICAgIGNsYXNzOiAicG9zdF9fbGlrZXMgcG9zdF9fZm9vdGVyLWl0ZW0gbm8tYmx1ZSIKICB9LCBbX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIDxpbWcgY2xhc3M9XCJuby1ibHVlXCIgOnNyYz1cInJlcXVpcmUoYEAvYXNzZXRzL2ltZy9pY29ucy9saWtlJHtpc0xpa2UgPyAnX2FjdGl2ZScgOiAnJ30uc3ZnYClcIj57eyBjb3VudExpa2VzIH19ICIpXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiA8ZGl2IGNsYXNzPVwicG9zdF9fY29tbWVudHMgcG9zdF9fZm9vdGVyLWl0ZW1cIj48aW1nIDpzcmM9XCJyZXF1aXJlKCdAL2Fzc2V0cy9pbWcvaWNvbnMvY29tbWVudC5zdmcnKVwiPnt7IHBvc3QuY291bnRDb21tZW50cyB9fTwvZGl2PiAiKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwb3N0X19kaXN0YW5jZSBwb3N0X19mb290ZXItaXRlbVwiPjxpbWcgOnNyYz1cInJlcXVpcmUoJ0AvYXNzZXRzL2ltZy9pY29ucy9kaXN0YW5jZS5zdmcnKVwiPnt7IHBvc3QuZGlzdGFuY2UgfX08L2Rpdj4iKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIDxkaXYgY2xhc3M9XCJwb3N0X19yZXBvc3RcIj48aW1nIDpzcmM9XCJyZXF1aXJlKCdAL2Fzc2V0cy9pbWcvaWNvbnMvcmVwb3N0LnN2ZycpXCIgYWx0PVwicmVwb3N0XCI+PC9kaXY+ICIpXSldKV0pOwp9"},{"version":3,"sources":["/home/maks/Рабочий стол/project-places/src/components/post/post.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"post\">\n\n        <Slider class=\"post__slider\">\n            <SliderItem\n                v-for=\"(image, i) in post.images\"\n                :key=\"image\"\n                :data-index=\"i\"\n            >\n                <img :src=\"image\" alt=\"\">\n<!--                <img :src=\"image\" alt=\"\">-->\n            </SliderItem>\n        </Slider>\n        <div class=\"post__body\">\n            <div class=\"post__info\">\n                <img src=\"https://i.ibb.co/T0Cvfy2/Ellipse-3-1.png\" alt=\"\">\n                <div class=\"post__info_right\">\n                    <div class=\"post__title\">{{ post.title }}</div>\n                    <div class=\"post__date\">\n<!--                        <span><img src=\"/img/icons/calendar.svg\" alt=\"\">{{postDate.day + ' ' + postDate.month }}</span>-->\n<!--                        <span><img src=\"/img/icons/hourglass.svg\" alt=\"\">{{ postDate.time}}</span>-->\n                    </div>\n                </div>\n            </div>\n            <div class=\"post__text\">{{ postText }}</div>\n            <div v-if=\"!isAll\" @click=\"seeTextClick\" class=\"post__see-all no-blue\">See all</div>\n            <div v-else @click=\"seeTextClick\" class=\"post__see-all no-blue\">Close</div>\n            <div class=\"post__footer\">\n                <div @click=\"likeClick\" class=\"post__likes post__footer-item no-blue\">\n                   <!-- <img class=\"no-blue\" :src=\"require(`@/assets/img/icons/like${isLike ? '_active' : ''}.svg`)\">{{ countLikes }} -->\n                </div>\n               <!-- <div class=\"post__comments post__footer-item\"><img :src=\"require('@/assets/img/icons/comment.svg')\">{{ post.countComments }}</div> -->\n<!--                <div class=\"post__distance post__footer-item\"><img :src=\"require('@/assets/img/icons/distance.svg')\">{{ post.distance }}</div>-->\n               <!-- <div class=\"post__repost\"><img :src=\"require('@/assets/img/icons/repost.svg')\" alt=\"repost\"></div> -->\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Slider from \"../slider/slider\";\nimport SliderItem from '../slider/slider-item'\nimport {mapActions} from \"vuex\";\n\nimport './post.scss'\n// TODO: изменить механизм изменения количество лайков\nexport default {\n    name: \"post\",\n    data: () => {\n        return {\n            postText: '',\n            shortText: '',\n            isAll: false,\n            isLike: false,\n            countLikes: 0\n        }\n    },\n    props: {\n        post: Object\n    },\n    components: {\n        Slider,\n        SliderItem\n    },\n    computed: {\n        postDate() {\n            const date = this.post.date\n            return {\n                month: date.toLocaleString('eng', {month: 'long'}).toLocaleLowerCase(),\n                day: date.getDate(),\n                time: date.toLocaleTimeString().substr(0, 5),\n            }\n        },\n    },\n    methods: {\n        ...mapActions(['CHANGE_LIKE']),\n        seeTextClick() {\n            if (this.isAll) {\n                this.postText = this.shortText\n            } else {\n                this.postText = this.post.text\n            }\n            this.isAll = !this.isAll\n        },\n        likeClick() {\n            if (this.isLike) {\n                this.countLikes--\n            } else {\n                this.countLikes++\n            }\n            this.isLike = !this.isLike\n        }\n    },\n    mounted() {\n        const text = this.post.text\n        const length = 35\n        if (text.split(' ').length > length + 8) {\n            this.shortText = text.split(' ').slice(0, 35).join(' ') + '...'\n            this.postText = this.shortText\n        }\n    },\n    created() {\n        this.isLike = this.post.isLiked\n        this.countLikes = this.post.countLikes\n        // проверяем поставил ли пользователь лайк или убрал\n        // если значение не совпадает со значением из state, вызываеться action по изменению лайка\n        // (для того чтобы не изменять лайк при каждом нажатии)\n        setInterval(async() => {\n            if (this.post.isLiked !== this.isLike) {\n                await this.CHANGE_LIKE({postId: this.post.id, isLike: this.isLike})\n            }\n        }, 5000)\n    }\n}\n</script>\n"],"sourceRoot":""}]}