{"remainingRequest":"/home/maks/Рабочий стол/project-places/node_modules/babel-loader/lib/index.js!/home/maks/Рабочий стол/project-places/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/maks/Рабочий стол/project-places/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/maks/Рабочий стол/project-places/src/components/post/post.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/maks/Рабочий стол/project-places/src/components/post/post.vue","mtime":1633993736257},{"path":"/home/maks/Рабочий стол/project-places/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/maks/Рабочий стол/project-places/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/maks/Рабочий стол/project-places/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/maks/Рабочий стол/project-places/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL21ha3MvXHUwNDIwXHUwNDMwXHUwNDMxXHUwNDNFXHUwNDQ3XHUwNDM4XHUwNDM5IFx1MDQ0MVx1MDQ0Mlx1MDQzRVx1MDQzQi9wcm9qZWN0LXBsYWNlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL21ha3MvXHUwNDIwXHUwNDMwXHUwNDMxXHUwNDNFXHUwNDQ3XHUwNDM4XHUwNDM5IFx1MDQ0MVx1MDQ0Mlx1MDQzRVx1MDQzQi9wcm9qZWN0LXBsYWNlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgU2xpZGVyIGZyb20gIi4uL3NsaWRlci9zbGlkZXIiOwppbXBvcnQgU2xpZGVySXRlbSBmcm9tICcuLi9zbGlkZXIvc2xpZGVyLWl0ZW0nOwppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCAnLi9wb3N0LnNjc3MnOyAvLyBUT0RPOiDQuNC30LzQtdC90LjRgtGMINC80LXRhdCw0L3QuNC30Lwg0LjQt9C80LXQvdC10L3QuNGPINC60L7Qu9C40YfQtdGB0YLQstC+INC70LDQudC60L7QsgoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJwb3N0IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcG9zdFRleHQ6ICcnLAogICAgICBzaG9ydFRleHQ6ICcnLAogICAgICBpc0FsbDogZmFsc2UsCiAgICAgIGlzTGlrZTogZmFsc2UsCiAgICAgIGNvdW50TGlrZXM6IDAKICAgIH07CiAgfSwKICBwcm9wczogewogICAgcG9zdDogT2JqZWN0CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBTbGlkZXI6IFNsaWRlciwKICAgIFNsaWRlckl0ZW06IFNsaWRlckl0ZW0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBwb3N0RGF0ZTogZnVuY3Rpb24gcG9zdERhdGUoKSB7CiAgICAgIHZhciBkYXRlID0gdGhpcy5wb3N0LmRhdGU7CiAgICAgIHJldHVybiB7CiAgICAgICAgbW9udGg6IGRhdGUudG9Mb2NhbGVTdHJpbmcoJ2VuZycsIHsKICAgICAgICAgIG1vbnRoOiAnbG9uZycKICAgICAgICB9KS50b0xvY2FsZUxvd2VyQ2FzZSgpLAogICAgICAgIGRheTogZGF0ZS5nZXREYXRlKCksCiAgICAgICAgdGltZTogZGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcoKS5zdWJzdHIoMCwgNSkKICAgICAgfTsKICAgIH0KICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbJ0NIQU5HRV9MSUtFJ10pKSwge30sIHsKICAgIHNlZVRleHRDbGljazogZnVuY3Rpb24gc2VlVGV4dENsaWNrKCkgewogICAgICBpZiAodGhpcy5pc0FsbCkgewogICAgICAgIHRoaXMucG9zdFRleHQgPSB0aGlzLnNob3J0VGV4dDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnBvc3RUZXh0ID0gdGhpcy5wb3N0LnRleHQ7CiAgICAgIH0KCiAgICAgIHRoaXMuaXNBbGwgPSAhdGhpcy5pc0FsbDsKICAgIH0sCiAgICBsaWtlQ2xpY2s6IGZ1bmN0aW9uIGxpa2VDbGljaygpIHsKICAgICAgaWYgKHRoaXMuaXNMaWtlKSB7CiAgICAgICAgdGhpcy5jb3VudExpa2VzLS07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jb3VudExpa2VzKys7CiAgICAgIH0KCiAgICAgIHRoaXMuaXNMaWtlID0gIXRoaXMuaXNMaWtlOwogICAgfQogIH0pLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgdGV4dCA9IHRoaXMucG9zdC50ZXh0OwogICAgdmFyIGxlbmd0aCA9IDM1OwoKICAgIGlmICh0ZXh0LnNwbGl0KCcgJykubGVuZ3RoID4gbGVuZ3RoICsgOCkgewogICAgICB0aGlzLnNob3J0VGV4dCA9IHRleHQuc3BsaXQoJyAnKS5zbGljZSgwLCAzNSkuam9pbignICcpICsgJy4uLic7CiAgICAgIHRoaXMucG9zdFRleHQgPSB0aGlzLnNob3J0VGV4dDsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuaXNMaWtlID0gdGhpcy5wb3N0LmlzTGlrZWQ7CiAgICB0aGlzLmNvdW50TGlrZXMgPSB0aGlzLnBvc3QuY291bnRMaWtlczsgLy8g0L/RgNC+0LLQtdGA0Y/QtdC8INC/0L7RgdGC0LDQstC40Lsg0LvQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0LvQsNC50Log0LjQu9C4INGD0LHRgNCw0LsKICAgIC8vINC10YHQu9C4INC30L3QsNGH0LXQvdC40LUg0L3QtSDRgdC+0LLQv9Cw0LTQsNC10YIg0YHQviDQt9C90LDRh9C10L3QuNC10Lwg0LjQtyBzdGF0ZSwg0LLRi9C30YvQstCw0LXRgtGM0YHRjyBhY3Rpb24g0L/QviDQuNC30LzQtdC90LXQvdC40Y4g0LvQsNC50LrQsAogICAgLy8gKNC00LvRjyDRgtC+0LPQviDRh9GC0L7QsdGLINC90LUg0LjQt9C80LXQvdGP0YLRjCDQu9Cw0LnQuiDQv9GA0Lgg0LrQsNC20LTQvtC8INC90LDQttCw0YLQuNC4KQoKICAgIHNldEludGVydmFsKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKCEoX3RoaXMucG9zdC5pc0xpa2VkICE9PSBfdGhpcy5pc0xpa2UpKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLkNIQU5HRV9MSUtFKHsKICAgICAgICAgICAgICAgIHBvc3RJZDogX3RoaXMucG9zdC5pZCwKICAgICAgICAgICAgICAgIGlzTGlrZTogX3RoaXMuaXNMaWtlCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpLCA1MDAwKTsKICB9Cn07"},{"version":3,"sources":["/home/maks/Рабочий стол/project-places/src/components/post/post.vue"],"names":[],"mappings":";;;;;;;AAwCA,OAAO,MAAP,MAAmB,kBAAnB;AACA,OAAO,UAAP,MAAuB,uBAAvB;AACA,SAAQ,UAAR,QAAyB,MAAzB;AAEA,OAAO,aAAP,C,CACA;;AACA,eAAe;AACX,EAAA,IAAI,EAAE,MADK;AAEX,EAAA,IAAI,EAAE,gBAAM;AACR,WAAO;AACH,MAAA,QAAQ,EAAE,EADP;AAEH,MAAA,SAAS,EAAE,EAFR;AAGH,MAAA,KAAK,EAAE,KAHJ;AAIH,MAAA,MAAM,EAAE,KAJL;AAKH,MAAA,UAAU,EAAE;AALT,KAAP;AAOH,GAVU;AAWX,EAAA,KAAK,EAAE;AACH,IAAA,IAAI,EAAE;AADH,GAXI;AAcX,EAAA,UAAU,EAAE;AACR,IAAA,MAAM,EAAN,MADQ;AAER,IAAA,UAAS,EAAT;AAFQ,GAdD;AAkBX,EAAA,QAAQ,EAAE;AACN,IAAA,QADM,sBACK;AACP,UAAM,IAAG,GAAI,KAAK,IAAL,CAAU,IAAvB;AACA,aAAO;AACH,QAAA,KAAK,EAAE,IAAI,CAAC,cAAL,CAAoB,KAApB,EAA2B;AAAC,UAAA,KAAK,EAAE;AAAR,SAA3B,EAA4C,iBAA5C,EADJ;AAEH,QAAA,GAAG,EAAE,IAAI,CAAC,OAAL,EAFF;AAGH,QAAA,IAAI,EAAE,IAAI,CAAC,kBAAL,GAA0B,MAA1B,CAAiC,CAAjC,EAAoC,CAApC;AAHH,OAAP;AAKH;AARK,GAlBC;AA4BX,EAAA,OAAO,kCACA,UAAU,CAAC,CAAC,aAAD,CAAD,CADV;AAEH,IAAA,YAFG,0BAEY;AACX,UAAI,KAAK,KAAT,EAAgB;AACZ,aAAK,QAAL,GAAgB,KAAK,SAArB;AACJ,OAFA,MAEO;AACH,aAAK,QAAL,GAAgB,KAAK,IAAL,CAAU,IAA1B;AACJ;;AACA,WAAK,KAAL,GAAa,CAAC,KAAK,KAAnB;AACH,KATE;AAUH,IAAA,SAVG,uBAUS;AACR,UAAI,KAAK,MAAT,EAAiB;AACb,aAAK,UAAL;AACJ,OAFA,MAEO;AACH,aAAK,UAAL;AACJ;;AACA,WAAK,MAAL,GAAc,CAAC,KAAK,MAApB;AACJ;AAjBG,IA5BI;AA+CX,EAAA,OA/CW,qBA+CD;AACN,QAAM,IAAG,GAAI,KAAK,IAAL,CAAU,IAAvB;AACA,QAAM,MAAK,GAAI,EAAf;;AACA,QAAI,IAAI,CAAC,KAAL,CAAW,GAAX,EAAgB,MAAhB,GAAyB,MAAK,GAAI,CAAtC,EAAyC;AACrC,WAAK,SAAL,GAAiB,IAAI,CAAC,KAAL,CAAW,GAAX,EAAgB,KAAhB,CAAsB,CAAtB,EAAyB,EAAzB,EAA6B,IAA7B,CAAkC,GAAlC,IAAyC,KAA1D;AACA,WAAK,QAAL,GAAgB,KAAK,SAArB;AACJ;AACH,GAtDU;AAuDX,EAAA,OAvDW,qBAuDD;AAAA;;AACN,SAAK,MAAL,GAAc,KAAK,IAAL,CAAU,OAAxB;AACA,SAAK,UAAL,GAAkB,KAAK,IAAL,CAAU,UAA5B,CAFM,CAGN;AACA;AACA;;AACA,IAAA,WAAW,uEAAC;AAAA;AAAA;AAAA;AAAA;AAAA,oBACJ,KAAI,CAAC,IAAL,CAAU,OAAV,KAAsB,KAAI,CAAC,MADvB;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAEE,KAAI,CAAC,WAAL,CAAiB;AAAC,gBAAA,MAAM,EAAE,KAAI,CAAC,IAAL,CAAU,EAAnB;AAAuB,gBAAA,MAAM,EAAE,KAAI,CAAC;AAApC,eAAjB,CAFF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,IAIR,IAJQ,CAAX;AAKJ;AAlEW,CAAf","sourcesContent":["<template>\n    <div class=\"post\">\n\n        <Slider class=\"post__slider\">\n            <SliderItem\n                v-for=\"(image, i) in post.images\"\n                :key=\"image\"\n                :data-index=\"i\"\n            >\n                <img :src=\"image\" alt=\"\">\n<!--                <img :src=\"image\" alt=\"\">-->\n            </SliderItem>\n        </Slider>\n        <div class=\"post__body\">\n            <div class=\"post__info\">\n                <img src=\"https://i.ibb.co/T0Cvfy2/Ellipse-3-1.png\" alt=\"\">\n                <div class=\"post__info_right\">\n                    <div class=\"post__title\">{{ post.title }}</div>\n                    <div class=\"post__date\">\n<!--                        <span><img src=\"/img/icons/calendar.svg\" alt=\"\">{{postDate.day + ' ' + postDate.month }}</span>-->\n<!--                        <span><img src=\"/img/icons/hourglass.svg\" alt=\"\">{{ postDate.time}}</span>-->\n                    </div>\n                </div>\n            </div>\n            <div class=\"post__text\">{{ postText }}</div>\n            <div v-if=\"!isAll\" @click=\"seeTextClick\" class=\"post__see-all no-blue\">See all</div>\n            <div v-else @click=\"seeTextClick\" class=\"post__see-all no-blue\">Close</div>\n            <div class=\"post__footer\">\n                <div @click=\"likeClick\" class=\"post__likes post__footer-item no-blue\">\n                   <!-- <img class=\"no-blue\" :src=\"require(`@/assets/img/icons/like${isLike ? '_active' : ''}.svg`)\">{{ countLikes }} -->\n                </div>\n               <!-- <div class=\"post__comments post__footer-item\"><img :src=\"require('@/assets/img/icons/comment.svg')\">{{ post.countComments }}</div> -->\n<!--                <div class=\"post__distance post__footer-item\"><img :src=\"require('@/assets/img/icons/distance.svg')\">{{ post.distance }}</div>-->\n               <!-- <div class=\"post__repost\"><img :src=\"require('@/assets/img/icons/repost.svg')\" alt=\"repost\"></div> -->\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Slider from \"../slider/slider\";\nimport SliderItem from '../slider/slider-item'\nimport {mapActions} from \"vuex\";\n\nimport './post.scss'\n// TODO: изменить механизм изменения количество лайков\nexport default {\n    name: \"post\",\n    data: () => {\n        return {\n            postText: '',\n            shortText: '',\n            isAll: false,\n            isLike: false,\n            countLikes: 0\n        }\n    },\n    props: {\n        post: Object\n    },\n    components: {\n        Slider,\n        SliderItem\n    },\n    computed: {\n        postDate() {\n            const date = this.post.date\n            return {\n                month: date.toLocaleString('eng', {month: 'long'}).toLocaleLowerCase(),\n                day: date.getDate(),\n                time: date.toLocaleTimeString().substr(0, 5),\n            }\n        },\n    },\n    methods: {\n        ...mapActions(['CHANGE_LIKE']),\n        seeTextClick() {\n            if (this.isAll) {\n                this.postText = this.shortText\n            } else {\n                this.postText = this.post.text\n            }\n            this.isAll = !this.isAll\n        },\n        likeClick() {\n            if (this.isLike) {\n                this.countLikes--\n            } else {\n                this.countLikes++\n            }\n            this.isLike = !this.isLike\n        }\n    },\n    mounted() {\n        const text = this.post.text\n        const length = 35\n        if (text.split(' ').length > length + 8) {\n            this.shortText = text.split(' ').slice(0, 35).join(' ') + '...'\n            this.postText = this.shortText\n        }\n    },\n    created() {\n        this.isLike = this.post.isLiked\n        this.countLikes = this.post.countLikes\n        // проверяем поставил ли пользователь лайк или убрал\n        // если значение не совпадает со значением из state, вызываеться action по изменению лайка\n        // (для того чтобы не изменять лайк при каждом нажатии)\n        setInterval(async() => {\n            if (this.post.isLiked !== this.isLike) {\n                await this.CHANGE_LIKE({postId: this.post.id, isLike: this.isLike})\n            }\n        }, 5000)\n    }\n}\n</script>\n"],"sourceRoot":""}]}