{"remainingRequest":"/home/maks/Рабочий стол/project-places/node_modules/babel-loader/lib/index.js!/home/maks/Рабочий стол/project-places/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/maks/Рабочий стол/project-places/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/maks/Рабочий стол/project-places/src/views/auth/registration-auth.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/maks/Рабочий стол/project-places/src/views/auth/registration-auth.vue","mtime":1633547327604},{"path":"/home/maks/Рабочий стол/project-places/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/maks/Рабочий стол/project-places/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/maks/Рабочий стол/project-places/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/maks/Рабочий стол/project-places/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL21ha3MvXHUwNDIwXHUwNDMwXHUwNDMxXHUwNDNFXHUwNDQ3XHUwNDM4XHUwNDM5IFx1MDQ0MVx1MDQ0Mlx1MDQzRVx1MDQzQi9wcm9qZWN0LXBsYWNlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL21ha3MvXHUwNDIwXHUwNDMwXHUwNDMxXHUwNDNFXHUwNDQ3XHUwNDM4XHUwNDM5IFx1MDQ0MVx1MDQ0Mlx1MDQzRVx1MDQzQi9wcm9qZWN0LXBsYWNlcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IEJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvYXV0aC9idXR0b24udnVlJzsKaW1wb3J0IHsgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBGRUVEX1VSTCB9IGZyb20gIi4uLy4uL3V0aWxzL2NvbnN0cyI7CmltcG9ydCBWYWxpZGF0aW9uIGZyb20gIi4uLy4uL3V0aWxzL3ZhbGlkYXRpb24iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInJlZ2lzdHJhdGlvbi1hdXRoIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmVlZFVybDogRkVFRF9VUkwsCiAgICAgIGZvcm06IHsKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgICBmaWxlOiAnJwogICAgICB9LAogICAgICBpc0FueUlucHV0Rm9jdXNlZDogZmFsc2UsCiAgICAgIGlzSW1nUHJldmlldzogZmFsc2UsCiAgICAgIGltZ1ByZXZpZXc6ICcnCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgQnV0dG9uOiBCdXR0b24KICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyhbJ1JFR0lTVEVSJ10pKSwge30sIHsKICAgIGxvYWRQaWN0dXJlOiBmdW5jdGlvbiBsb2FkUGljdHVyZShlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICB0aGlzLmlzSW1nUHJldmlldyA9IHRydWU7CgogICAgICBpZiAoZmlsZS5zaXplID4gMTAgKiAxMDI0ICogMTAyNCkgewogICAgICAgIGFsZXJ0KCdGaWxlIHNpemUgc2hvdWxkIG5vdCBleGNlZWQgMTAgTUInKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgdGhpcy5mb3JtLmZpbGUgPSBmaWxlOwogICAgICBmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgICAgIGZpbGVSZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVuZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5pbWdQcmV2aWV3ID0gZmlsZVJlYWRlci5yZXN1bHQ7CiAgICAgICAgX3RoaXMuaXNJbWdQcmV2aWV3ID0gdHJ1ZTsKICAgICAgfSk7CiAgICB9LAogICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHZhbGlkYXRlUmVzdWx0LCBmb3JtRGF0YSwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdmFsaWRhdGVSZXN1bHQgPSBWYWxpZGF0aW9uLnZhbGlkYXRlUmVnaXN0cmF0aW9uKF90aGlzMi5mb3JtKTsKCiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkYXRlUmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBhbGVydCh2YWxpZGF0ZVJlc3VsdCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gYWRkRGF0YVRvRm9ybShfdGhpczIuZm9ybSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuUkVHSVNURVIoZm9ybURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7IC8vINC00LDQu9GM0YjQtSDQutC+0LQg0LfQsNCy0LjRgdC40YIg0L7RgiDQsdGN0LrQsAogICAgICAgICAgICAgICAgLy8gLi4uCgogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7Ly8g0L7QsdGA0LDQsdC+0YLQutCwINGD0YHQv9C10YjQvdC+0Lkg0YDQtdCz0LjRgdGC0YDQsNGG0LjQuAogICAgICAgICAgICAgICAgICAvLyDQt9Cw0L/QuNGB0YLRjCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0LIgc3RhdGUKICAgICAgICAgICAgICAgICAgLy8g0LfQsNC/0LjRgdGMIGFjY2Vzc1Rva2VuINCyIGxvY2FsU3RvcmFnZQogICAgICAgICAgICAgICAgICAvLyDRgNC10LTQuNGA0LXQutGCINC90LAg0LPQu9Cw0LLQvdGD0Y4KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9KSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30KfTsKCnZhciBhZGREYXRhVG9Gb3JtID0gZnVuY3Rpb24gYWRkRGF0YVRvRm9ybShmb3JtKSB7CiAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgZm9ybURhdGEuYXBwZW5kKCdhdmF0YXInLCAnYXNkZmFzZicpOwogIGZvcm1EYXRhLmFwcGVuZCgndXNlcm5hbWUnLCBmb3JtLnVzZXJuYW1lKTsKICBmb3JtRGF0YS5hcHBlbmQoJ2VtYWlsJywgZm9ybS5lbWFpbCk7CiAgZm9ybURhdGEuYXBwZW5kKCdwYXNzd29yZCcsIGZvcm0ucGFzc3dvcmQpOwogIHJldHVybiBmb3JtRGF0YTsKfTs="},{"version":3,"sources":["/home/maks/Рабочий стол/project-places/src/views/auth/registration-auth.vue"],"names":[],"mappings":";;;AAyCA,OAAO,MAAP,MAAmB,8BAAnB;AACA,SAAQ,UAAR,QAAyB,MAAzB;AACA,SAAQ,QAAR,QAAuB,oBAAvB;AACA,OAAO,UAAP,MAAuB,wBAAvB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,mBADK;AAEX,EAAA,IAAI,EAAE,gBAAM;AACR,WAAO;AACH,MAAA,OAAO,EAAE,QADN;AAEH,MAAA,IAAI,EAAE;AACF,QAAA,QAAQ,EAAE,EADR;AAEF,QAAA,KAAK,EAAE,EAFL;AAGF,QAAA,QAAQ,EAAE,EAHR;AAIF,QAAA,IAAI,EAAE;AAJJ,OAFH;AAQH,MAAA,iBAAiB,EAAE,KARhB;AASH,MAAA,YAAY,EAAE,KATX;AAUH,MAAA,UAAU,EAAE;AAVT,KAAP;AAYH,GAfU;AAgBX,EAAA,UAAU,EAAE;AACR,IAAA,MAAK,EAAL;AADQ,GAhBD;AAmBX,EAAA,OAAO,kCACA,UAAU,CAAC,CAAC,UAAD,CAAD,CADV;AAEH,IAAA,WAFG,uBAES,CAFT,EAEY;AAAA;;AACX,UAAI,IAAG,GAAI,CAAC,CAAC,MAAF,CAAS,KAAT,CAAe,CAAf,CAAX;AACA,WAAK,YAAL,GAAoB,IAApB;;AACA,UAAI,IAAI,CAAC,IAAL,GAAY,KAAG,IAAH,GAAQ,IAAxB,EAA8B;AAC1B,QAAA,KAAK,CAAC,mCAAD,CAAL;AACA,eAAO,KAAP;AACJ;;AACA,UAAI,UAAS,GAAI,IAAI,UAAJ,EAAjB;AACA,WAAK,IAAL,CAAU,IAAV,GAAiB,IAAjB;AACA,MAAA,UAAU,CAAC,aAAX,CAAyB,IAAzB;AACA,MAAA,UAAU,CAAC,gBAAX,CAA4B,SAA5B,EAAuC,YAAM;AACzC,QAAA,KAAI,CAAC,UAAL,GAAkB,UAAU,CAAC,MAA7B;AACA,QAAA,KAAI,CAAC,YAAL,GAAoB,IAApB;AACH,OAHD;AAIH,KAhBE;AAiBG,IAAA,QAjBH,sBAiBc;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACT,gBAAA,cADS,GACQ,UAAU,CAAC,oBAAX,CAAgC,MAAI,CAAC,IAArC,CADR;;AAAA,qBAET,cAFS;AAAA;AAAA;AAAA;;AAGT,gBAAA,KAAK,CAAC,cAAD,CAAL;AAHS,iDAIF,KAJE;;AAAA;AAMP,gBAAA,QANO,GAMI,aAAa,CAAC,MAAI,CAAC,IAAN,CANjB;AAAA;AAAA,uBAOU,MAAI,CAAC,QAAL,CAAc,QAAd,CAPV;;AAAA;AAOP,gBAAA,QAPO;AAQb,gBAAA,OAAO,CAAC,GAAR,CAAY,QAAZ,EARa,CASb;AACA;;AACA,oBAAI,QAAQ,CAAC,MAAT,KAAkB,GAAtB,EAA2B,CACvB;AACA;AACA;AACA;AACJ;;AAhBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBjB;AAlCG,IAnBI;AAuDX,EAAA,OAvDW,qBAuDD,CACV;AAxDW,CAAf;;AA0DA,IAAM,aAAY,GAAI,SAAhB,aAAgB,CAAC,IAAD,EAAU;AAC5B,MAAM,QAAO,GAAI,IAAI,QAAJ,EAAjB;AACA,EAAA,QAAQ,CAAC,MAAT,CAAgB,QAAhB,EAA0B,SAA1B;AACA,EAAA,QAAQ,CAAC,MAAT,CAAgB,UAAhB,EAA4B,IAAI,CAAC,QAAjC;AACA,EAAA,QAAQ,CAAC,MAAT,CAAgB,OAAhB,EAAyB,IAAI,CAAC,KAA9B;AACA,EAAA,QAAQ,CAAC,MAAT,CAAgB,UAAhB,EAA4B,IAAI,CAAC,QAAjC;AACA,SAAO,QAAP;AACJ,CAPA","sourcesContent":["<template>\n    <div class=\"auth registration\">\n        <div\n            :style=\"{background: `url(/img/auth/back.png) center no-repeat`, backgroundSize: '100%'}\"\n            class=\"auth__bg auth__bg\"\n        ></div>\n\n        <router-link tag=\"div\" class=\"registration__title auth__title title-auth title-auth__disappear_l\" :to=\"feedUrl\">Events</router-link>\n        <div class=\"auth__container container-auth\">\n            <div class=\"auth__body body-auth\">\n                <div class=\"auth__body_pic\">\n                    <label for=\"input-pic\">\n                        <img v-if=\"!isImgPreview\" src=\"/img/auth/plus.svg\">\n                        <span v-if=\"!isImgPreview\" class=\"no-blue\">Event picture</span>\n                        <img class=\"auth__body_preview\" v-if=\"isImgPreview\" :src=\"imgPreview\" alt=\"\">\n                    </label>\n                    <input ref=\"inputImg\" @change=\"loadPicture($event)\" type=\"file\" accept=\"image/*\" id=\"input-pic\">\n                </div>\n                <div class=\"auth__body-text body-text-auth\">Enter <span>Username,</span><br><p>email</p> and <span>password</span></div>\n                <div class=\"auth__form form-auth\">\n                    <div class=\"form-auth__input\">\n                        <input v-model=\"form.username\" type=\"text\" placeholder=\"Username\">\n                        <div v-if=\"form.username.length < 1\" class=\"form-auth__label\"><img alt=\"\" src=\"/img/auth/sharp.svg\"><span>Mandatory input field</span></div>\n                    </div>\n                    <div class=\"form-auth__input\">\n                        <input v-model=\"form.email\" type=\"email\" placeholder=\"Your email\">\n                        <div v-if=\"form.email.length < 1\" class=\"form-auth__label\"><img alt=\"\" src=\"/img/auth/sharp.svg\"><span>Mandatory input field</span></div>\n                    </div>\n                    <div class=\"form-auth__input\">\n                        <input v-model=\"form.password\" type=\"password\" placeholder=\"Your password\">\n                        <div v-if=\"form.password.length < 1\" class=\"form-auth__label\"><img alt=\"\" src=\"/img/auth/sharp.svg\"><span>Mandatory input field</span></div>\n                    </div>\n                    <div @click=\"$router.push('recover-password')\" class=\"form-auth__forgot\">Forgot password?</div>\n                    <Button @btnClick=\"register\" :type=\"'login'\">Sign in</Button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Button from '@/components/auth/button.vue'\nimport {mapActions} from 'vuex'\nimport {FEED_URL} from \"../../utils/consts\";\nimport Validation from \"../../utils/validation\";\n\nexport default {\n    name: \"registration-auth\",\n    data: () => {\n        return {\n            feedUrl: FEED_URL,\n            form: {\n                username: '',\n                email: '',\n                password: '',\n                file: ''\n            },\n            isAnyInputFocused: false,\n            isImgPreview: false,\n            imgPreview: ''\n        }\n    },\n    components: {\n        Button\n    },\n    methods: {\n        ...mapActions(['REGISTER']),\n        loadPicture(e) {\n            let file = e.target.files[0]\n            this.isImgPreview = true\n            if (file.size > 10*1024*1024) {\n                alert('File size should not exceed 10 MB')\n                return false\n            }\n            let fileReader = new FileReader()\n            this.form.file = file\n            fileReader.readAsDataURL(file)\n            fileReader.addEventListener('loadend', () => {\n                this.imgPreview = fileReader.result\n                this.isImgPreview = true\n            })\n        },\n        async register() {\n            let validateResult = Validation.validateRegistration(this.form)\n            if (validateResult) {\n                alert(validateResult)\n                return false\n            }\n            const formData = addDataToForm(this.form)\n            const response = await this.REGISTER(formData)\n            console.log(response)\n            // дальше код зависит от бэка\n            // ...\n            if (response.status===200) {\n                // обработка успешной регистрации\n                // записть пользователя в state\n                // запись accessToken в localStorage\n                // редирект на главную\n            }\n        }\n    },\n    mounted() {\n    }\n}\nconst addDataToForm = (form) => {\n    const formData = new FormData()\n    formData.append('avatar', 'asdfasf')\n    formData.append('username', form.username)\n    formData.append('email', form.email)\n    formData.append('password', form.password)\n    return formData\n}\n</script>\n\n"],"sourceRoot":""}]}